// src/lib/categories.js - AUTO INSURAGE CATEGORY HIERARCHY - UPDATED WITH ALL 51 STATES
export const CATEGORY_HIERARCHY = {
  "car-insurance-basics": {
    name: "Car Insurance Basics",
    description: "Understanding coverage types, requirements, and policy fundamentals",
    icon: "üöó",
    subcategories: {
      "liability-coverage": "Liability Coverage",
      "comprehensive-collision": "Comprehensive & Collision",
      "uninsured-motorist": "Uninsured/Underinsured Motorist",
      "personal-injury-protection": "Personal Injury Protection (PIP)",
      "medical-payments": "Medical Payments Coverage",
      "gap-insurance": "Gap Insurance",
      "rental-reimbursement": "Rental Reimbursement",
      "towing-coverage": "Towing & Labor Coverage"
    }
  },
  
  "cost-discounts": {
    name: "Cost & Discounts",
    description: "How insurance rates are calculated and ways to save money",
    icon: "üí∞",
    subcategories: {
      "rate-factors": "Insurance Rate Factors",
      "safe-driver-discounts": "Safe Driver Discounts",
      "multi-policy-discounts": "Multi-Policy Discounts",
      "good-student-discounts": "Good Student Discounts",
      "low-mileage-discounts": "Low Mileage Discounts",
      "anti-theft-discounts": "Anti-Theft Device Discounts",
      "payment-discounts": "Payment & Paperless Discounts",
      "occupation-discounts": "Occupation-Based Discounts"
    }
  },
  
  "claims-accidents": {
    name: "Claims & Accidents",
    description: "Step-by-step claims process, accident procedures, and settlement guidance",
    icon: "üìã",
    subcategories: {
      "accident-procedure": "What to Do After an Accident",
      "filing-a-claim": "How to File a Claim",
      "claims-process": "Claims Process Explained",
      "total-loss-claims": "Total Loss Claims",
      "dispute-resolution": "Dispute Resolution",
      "claims-timeline": "Claims Timeline & Expectations",
      "rental-car-coverage": "Rental Car After Accident",
      "diminished-value-claims": "Diminished Value Claims"
    }
  },
  
  "drivers-coverage": {
    name: "Drivers & Coverage",
    description: "Insurance for different driver types and specialized coverage needs",
    icon: "üë®‚Äçüë©‚Äçüëß",
    subcategories: {
      "teen-driver-insurance": "Teen & Young Driver Insurance",
      "senior-driver-insurance": "Senior Driver Insurance",
      "high-risk-drivers": "High-Risk & SR-22 Insurance",
      "rideshare-insurance": "Rideshare & Delivery Driver Insurance",
      "commercial-auto": "Commercial Auto Insurance",
      "classic-car-insurance": "Classic & Antique Car Insurance",
      "motorcycle-insurance": "Motorcycle Insurance",
      "rv-boat-insurance": "RV & Boat Insurance"
    }
  },
  
  "state-guides": {
    name: "State-Specific Guides",
    description: "Insurance requirements, laws, and average rates for all 51 states",
    icon: "üó∫Ô∏è",
    subcategories: {
      "alabama": "Alabama Insurance Guide",
      "alaska": "Alaska Insurance Guide",
      "arizona": "Arizona Insurance Guide",
      "arkansas": "Arkansas Insurance Guide",
      "california": "California Insurance Guide",
      "colorado": "Colorado Insurance Guide",
      "connecticut": "Connecticut Insurance Guide",
      "delaware": "Delaware Insurance Guide",
      "florida": "Florida Insurance Guide",
      "georgia": "Georgia Insurance Guide",
      "hawaii": "Hawaii Insurance Guide",
      "idaho": "Idaho Insurance Guide",
      "illinois": "Illinois Insurance Guide",
      "indiana": "Indiana Insurance Guide",
      "iowa": "Iowa Insurance Guide",
      "kansas": "Kansas Insurance Guide",
      "kentucky": "Kentucky Insurance Guide",
      "louisiana": "Louisiana Insurance Guide",
      "maine": "Maine Insurance Guide",
      "maryland": "Maryland Insurance Guide",
      "massachusetts": "Massachusetts Insurance Guide",
      "michigan": "Michigan Insurance Guide",
      "minnesota": "Minnesota Insurance Guide",
      "mississippi": "Mississippi Insurance Guide",
      "missouri": "Missouri Insurance Guide",
      "montana": "Montana Insurance Guide",
      "nebraska": "Nebraska Insurance Guide",
      "nevada": "Nevada Insurance Guide",
      "new-hampshire": "New Hampshire Insurance Guide",
      "new-jersey": "New Jersey Insurance Guide",
      "new-mexico": "New Mexico Insurance Guide",
      "new-york": "New York Insurance Guide",
      "north-carolina": "North Carolina Insurance Guide",
      "north-dakota": "North Dakota Insurance Guide",
      "ohio": "Ohio Insurance Guide",
      "oklahoma": "Oklahoma Insurance Guide",
      "oregon": "Oregon Insurance Guide",
      "pennsylvania": "Pennsylvania Insurance Guide",
      "rhode-island": "Rhode Island Insurance Guide",
      "south-carolina": "South Carolina Insurance Guide",
      "south-dakota": "South Dakota Insurance Guide",
      "tennessee": "Tennessee Insurance Guide",
      "texas": "Texas Insurance Guide",
      "utah": "Utah Insurance Guide",
      "vermont": "Vermont Insurance Guide",
      "virginia": "Virginia Insurance Guide",
      "washington": "Washington Insurance Guide",
      "west-virginia": "West Virginia Insurance Guide",
      "wisconsin": "Wisconsin Insurance Guide",
      "wyoming": "Wyoming Insurance Guide",
      "washington-dc": "Washington DC Insurance Guide"
    }
  },
  
  "company-reviews": {
    name: "Company Reviews",
    description: "Unbiased reviews and comparisons of top auto insurance companies",
    icon: "üè¢",
    subcategories: {
      "geico-review": "Geico Review & Analysis",
      "state-farm-review": "State Farm Review",
      "progressive-review": "Progressive Review",
      "allstate-review": "Allstate Review",
      "liberty-mutual-review": "Liberty Mutual Review",
      "usaa-review": "USAA Review",
      "farmers-review": "Farmers Insurance Review",
      "nationwide-review": "Nationwide Review",
      "travelers-review": "Travelers Review",
      "american-family-review": "American Family Review"
    }
  },
  
  "insurance-news": {
    name: "Insurance News",
    description: "Latest industry updates, rate changes, and regulatory developments",
    icon: "üì∞",
    subcategories: {
      "rate-increases": "Insurance Rate Changes",
      "new-coverage-options": "New Coverage Options",
      "regulatory-updates": "Regulatory & Legal Updates",
      "company-mergers": "Insurance Company Mergers",
      "technology-trends": "Insurance Technology Trends",
      "weather-impact": "Weather & Climate Impact",
      "fraud-prevention": "Fraud Prevention Updates"
    }
  },
  
  "saving-tips": {
    name: "Saving Tips",
    description: "Proven strategies to reduce your auto insurance premiums",
    icon: "üí°",
    subcategories: {
      "annual-review": "Annual Policy Review Tips",
      "deductible-strategies": "Deductible Optimization",
      "credit-score-impact": "Credit Score Improvement",
      "defensive-driving-courses": "Defensive Driving Courses",
      "vehicle-safety-features": "Vehicle Safety Features",
      "storage-options": "Vehicle Storage Options",
      "pay-in-full": "Pay-In-Full Discounts",
      "group-discounts": "Group & Association Discounts"
    }
  },
  
  "comparison-tools": {
    name: "Comparison Tools",
    description: "Guides to comparing quotes and finding the best rates",
    icon: "‚öñÔ∏è",
    subcategories: {
      "quote-comparison": "How to Compare Quotes",
      "online-tools": "Best Online Comparison Tools",
      "agent-vs-direct": "Agent vs. Direct Purchase",
      "bundling-options": "Insurance Bundling Options",
      "coverage-comparison": "Coverage Comparison Guide",
      "customer-service-comparison": "Customer Service Comparison",
      "mobile-app-comparison": "Mobile App Features"
    }
  },
  
  "specialized-coverage": {
    name: "Specialized Coverage",
    description: "Niche insurance products and specialized protection options",
    icon: "üõ°Ô∏è",
    subcategories: {
      "gap-insurance": "Gap Insurance Explained",
      "roadside-assistance": "Roadside Assistance Plans",
      "new-car-replacement": "New Car Replacement",
      "accident-forgiveness": "Accident Forgiveness",
      "vanishing-deductible": "Vanishing Deductible",
      "rideshare-coverage": "Rideshare Endorsements",
      "custom-parts-coverage": "Custom Parts & Equipment",
      "pet-injury-coverage": "Pet Injury Coverage"
    }
  },

  "legal-regulatory": {
    name: "Legal & Regulatory",
    description: "Insurance laws, regulations, and legal requirements by state",
    icon: "‚öñÔ∏è",
    subcategories: {
      "state-requirements": "State Minimum Requirements",
      "no-fault-states": "No-Fault Insurance States",
      "financial-responsibility": "Financial Responsibility Laws",
      "sr22-requirements": "SR-22 Requirements",
      "insurance-fraud": "Insurance Fraud Laws",
      "consumer-protection": "Consumer Protection Laws",
      "appeals-process": "Appeals & Complaints Process"
    }
  },

  "emergency-preparedness": {
    name: "Emergency Preparedness",
    description: "Insurance considerations for emergencies, disasters, and unexpected events",
    icon: "üö®",
    subcategories: {
      "natural-disasters": "Natural Disaster Coverage",
      "winter-driving": "Winter & Ice Storm Preparation",
      "flood-coverage": "Flood Insurance for Vehicles",
      "hurricane-preparation": "Hurricane & Storm Preparation",
      "wildfire-protection": "Wildfire Risk & Protection",
      "emergency-kit": "Car Emergency Kit Guide",
      "roadside-emergencies": "Roadside Emergency Procedures"
    }
  },

  "future-trends": {
    name: "Future Trends",
    description: "Emerging technologies and future developments in auto insurance",
    icon: "üîÆ",
    subcategories: {
      "telematics-insurance": "Telematics & Usage-Based Insurance",
      "self-driving-cars": "Self-Driving Car Insurance",
      "electric-vehicles": "Electric Vehicle Insurance",
      "blockchain-insurance": "Blockchain in Insurance",
      "ai-pricing": "AI & Machine Learning Pricing",
      "shared-mobility": "Shared Mobility Insurance",
      "climate-change-impact": "Climate Change Impact"
    }
  }
};

// Helper: Get display name
export function getCategoryDisplay(categoryPath) {
  if (!categoryPath) return '';
  
  const [pillar, sub] = categoryPath.split('/');
  const pillarData = CATEGORY_HIERARCHY[pillar];
  
  if (!pillarData) return categoryPath;
  
  if (sub && pillarData.subcategories[sub]) {
    return pillarData.name + " > " + pillarData.subcategories[sub];
  }
  
  return pillarData.name;
}

// Helper: Get all categories for dropdowns
export function getAllCategories() {
  return Object.entries(CATEGORY_HIERARCHY).map(([key, data]) => ({
    slug: key,
    name: data.name,
    description: data.description,
    icon: data.icon,
    subcategories: Object.entries(data.subcategories || {}).map(([subKey, subName]) => ({
      slug: subKey,
      name: subName
    }))
  }));
}

// Helper: Get category data by slug
export function getCategoryBySlug(slug) {
  return CATEGORY_HIERARCHY[slug];
}

// Insurance-specific helper: Get state minimum requirements - UPDATED WITH ALL 51 STATES
export const STATE_MINIMUM_REQUIREMENTS = {
  "alabama": { liability: "25/50/25", description: "$25k injury per person, $50k per accident, $25k property damage", pip: false, noFault: false },
  "alaska": { liability: "50/100/25", description: "$50k injury per person, $100k per accident, $25k property damage", pip: false, noFault: false },
  "arizona": { liability: "25/50/15", description: "$25k injury per person, $50k per accident, $15k property damage", pip: false, noFault: false },
  "arkansas": { liability: "25/50/25", description: "$25k injury per person, $50k per accident, $25k property damage", pip: false, noFault: false },
  "california": { liability: "15/30/5", description: "$15k injury per person, $30k per accident, $5k property damage", pip: false, noFault: false },
  "colorado": { liability: "25/50/15", description: "$25k injury per person, $50k per accident, $15k property damage", pip: true, noFault: false },
  "connecticut": { liability: "25/50/25", description: "$25k injury per person, $50k per accident, $25k property damage", pip: true, noFault: false },
  "delaware": { liability: "25/50/10", description: "$25k injury per person, $50k per accident, $10k property damage", pip: true, noFault: true },
  "florida": { liability: "10/20/10", description: "$10k injury per person, $20k per accident, $10k property damage", pip: true, noFault: true },
  "georgia": { liability: "25/50/25", description: "$25k injury per person, $50k per accident, $25k property damage", pip: false, noFault: false },
  "hawaii": { liability: "20/40/10", description: "$20k injury per person, $40k per accident, $10k property damage", pip: true, noFault: true },
  "idaho": { liability: "25/50/15", description: "$25k injury per person, $50k per accident, $15k property damage", pip: false, noFault: false },
  "illinois": { liability: "25/50/20", description: "$25k injury per person, $50k per accident, $20k property damage", pip: false, noFault: false },
  "indiana": { liability: "25/50/25", description: "$25k injury per person, $50k per accident, $25k property damage", pip: false, noFault: false },
  "iowa": { liability: "20/40/15", description: "$20k injury per person, $40k per accident, $15k property damage", pip: false, noFault: false },
  "kansas": { liability: "25/50/25", description: "$25k injury per person, $50k per accident, $25k property damage", pip: true, noFault: true },
  "kentucky": { liability: "25/50/25", description: "$25k injury per person, $50k per accident, $25k property damage", pip: false, noFault: true },
  "louisiana": { liability: "15/30/25", description: "$15k injury per person, $30k per accident, $25k property damage", pip: false, noFault: false },
  "maine": { liability: "50/100/25", description: "$50k injury per person, $100k per accident, $25k property damage", pip: true, noFault: false },
  "maryland": { liability: "30/60/15", description: "$30k injury per person, $60k per accident, $15k property damage", pip: true, noFault: true },
  "massachusetts": { liability: "20/40/5", description: "$20k injury per person, $40k per accident, $5k property damage", pip: true, noFault: true },
  "michigan": { liability: "20/40/10", description: "$20k injury per person, $40k per accident, $10k property damage", pip: true, noFault: true },
  "minnesota": { liability: "30/60/10", description: "$30k injury per person, $60k per accident, $10k property damage", pip: true, noFault: true },
  "mississippi": { liability: "25/50/25", description: "$25k injury per person, $50k per accident, $25k property damage", pip: false, noFault: false },
  "missouri": { liability: "25/50/25", description: "$25k injury per person, $50k per accident, $25k property damage", pip: false, noFault: false },
  "montana": { liability: "25/50/20", description: "$25k injury per person, $50k per accident, $20k property damage", pip: false, noFault: false },
  "nebraska": { liability: "25/50/25", description: "$25k injury per person, $50k per accident, $25k property damage", pip: true, noFault: false },
  "nevada": { liability: "25/50/20", description: "$25k injury per person, $50k per accident, $20k property damage", pip: false, noFault: false },
  "new-hampshire": { liability: "25/50/25", description: "$25k injury per person, $50k per accident, $25k property damage", pip: true, noFault: false },
  "new-jersey": { liability: "15/30/5", description: "$15k injury per person, $30k per accident, $5k property damage", pip: true, noFault: true },
  "new-mexico": { liability: "25/50/10", description: "$25k injury per person, $50k per accident, $10k property damage", pip: false, noFault: false },
  "new-york": { liability: "25/50/10", description: "$25k injury per person, $50k per accident, $10k property damage", pip: true, noFault: true },
  "north-carolina": { liability: "30/60/25", description: "$30k injury per person, $60k per accident, $25k property damage", pip: false, noFault: false },
  "north-dakota": { liability: "25/50/25", description: "$25k injury per person, $50k per accident, $25k property damage", pip: true, noFault: true },
  "ohio": { liability: "25/50/25", description: "$25k injury per person, $50k per accident, $25k property damage", pip: false, noFault: false },
  "oklahoma": { liability: "25/50/25", description: "$25k injury per person, $50k per accident, $25k property damage", pip: false, noFault: false },
  "oregon": { liability: "25/50/20", description: "$25k injury per person, $50k per accident, $20k property damage", pip: true, noFault: false },
  "pennsylvania": { liability: "15/30/5", description: "$15k injury per person, $30k per accident, $5k property damage", pip: true, noFault: true },
  "rhode-island": { liability: "25/50/25", description: "$25k injury per person, $50k per accident, $25k property damage", pip: true, noFault: false },
  "south-carolina": { liability: "25/50/25", description: "$25k injury per person, $50k per accident, $25k property damage", pip: false, noFault: false },
  "south-dakota": { liability: "25/50/25", description: "$25k injury per person, $50k per accident, $25k property damage", pip: false, noFault: false },
  "tennessee": { liability: "25/50/15", description: "$25k injury per person, $50k per accident, $15k property damage", pip: false, noFault: false },
  "texas": { liability: "30/60/25", description: "$30k injury per person, $60k per accident, $25k property damage", pip: false, noFault: false },
  "utah": { liability: "25/65/15", description: "$25k injury per person, $65k per accident, $15k property damage", pip: true, noFault: true },
  "vermont": { liability: "25/50/10", description: "$25k injury per person, $50k per accident, $10k property damage", pip: true, noFault: false },
  "virginia": { liability: "25/50/20", description: "$25k injury per person, $50k per accident, $20k property damage", pip: false, noFault: false },
  "washington": { liability: "25/50/10", description: "$25k injury per person, $50k per accident, $10k property damage", pip: false, noFault: false },
  "west-virginia": { liability: "25/50/25", description: "$25k injury per person, $50k per accident, $25k property damage", pip: false, noFault: false },
  "wisconsin": { liability: "25/50/10", description: "$25k injury per person, $50k per accident, $10k property damage", pip: false, noFault: false },
  "wyoming": { liability: "25/50/20", description: "$25k injury per person, $50k per accident, $20k property damage", pip: false, noFault: false },
  "washington-dc": { liability: "25/50/10", description: "$25k injury per person, $50k per accident, $10k property damage", pip: true, noFault: true }
};

// Helper: Get popular insurance companies
export const INSURANCE_COMPANIES = {
  "geico": {
    name: "Geico",
    rating: 4.5,
    pros: ["Low rates", "Easy online experience", "Good discounts"],
    cons: ["Limited local agents"],
    icon: "ü¶é"
  },
  "state-farm": {
    name: "State Farm",
    rating: 4.3,
    pros: ["Great local agents", "Bundle deals", "Good claims process"],
    cons: ["Can be more expensive"],
    icon: "üè¢"
  },
  "progressive": {
    name: "Progressive",
    rating: 4.4,
    pros: ["Name your price tool", "Snapshot program", "Variety of coverage"],
    cons: ["Customer service varies"],
    icon: "üìä"
  },
  "allstate": {
    name: "Allstate",
    rating: 4.2,
    pros: ["Accident forgiveness", "Safe driving bonus", "Local agents"],
    cons: ["Higher premiums"],
    icon: "üëç"
  },
  "liberty-mutual": {
    name: "Liberty Mutual",
    rating: 4.1,
    pros: ["Customizable coverage", "Good discounts", "Accident forgiveness"],
    cons: ["Price increases over time"],
    icon: "üõ°Ô∏è"
  }
};

// NEW: Helper to get states by region for organized display
export const STATES_BY_REGION = {
  northeast: ["Connecticut", "Maine", "Massachusetts", "New Hampshire", "New Jersey", "New York", "Pennsylvania", "Rhode Island", "Vermont"],
  midwest: ["Illinois", "Indiana", "Iowa", "Kansas", "Michigan", "Minnesota", "Missouri", "Nebraska", "North Dakota", "Ohio", "South Dakota", "Wisconsin"],
  south: ["Alabama", "Arkansas", "Delaware", "Florida", "Georgia", "Kentucky", "Louisiana", "Maryland", "Mississippi", "North Carolina", "Oklahoma", "South Carolina", "Tennessee", "Texas", "Virginia", "West Virginia"],
  west: ["Alaska", "Arizona", "California", "Colorado", "Hawaii", "Idaho", "Montana", "Nevada", "New Mexico", "Oregon", "Utah", "Washington", "Wyoming"],
  special: ["Washington DC"]
};

// NEW: Helper to get state guide URL
export function getStateGuideUrl(stateSlug) {
  return `/blog/auto-insurance/${stateSlug}`;
}